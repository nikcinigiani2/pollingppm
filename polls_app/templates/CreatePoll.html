<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Poll</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body style="background-color: #4a90e2; color: white; font-family: Arial, sans-serif; text-align: center; padding: 20px;">
<h1 style="color: #ffffff; text-shadow: 1px 1px 2px #000000;">Create a new poll</h1>
<form id="pollForm" method="POST" action="{% url 'CreatePoll' %}" style="max-width: 300px; background-color: rgba(255, 255, 255, 0.8); padding: 20px; border-radius: 10px; display: inline-block; text-align: left;">
    {% csrf_token %}
    <input type="text" name="question" placeholder="Question" required style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box;">
    {{ formset.management_form }}
    <div id="inputArea" style="width: 100%; margin-bottom: 10px;">
        <input type="text" name="choices" placeholder="Choice 1" required style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box;">
    </div>
    <button type="button" id="addChoice" style="background-color: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-bottom: 10px;">Add another choice</button>
    <button type="submit" style="background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Create</button>

    <script>
    $(document).ready(function(){
        var choiceCount = 1; // start from 1 because you already have one choice input
       $('#addChoice').click(function(){
           $('#inputArea').append('<input type="text" name="choices" placeholder="Choice '+ (choiceCount+1) + '" required style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box;">');
        choiceCount++;
        $('#id_choices-TOTAL_FORMS').val(choiceCount);
});
    });
    </script>
</form>

</body>
</html>
